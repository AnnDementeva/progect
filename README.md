# Описание программы

В программе присутствует package с названием `calcium_activity`, в котором есть 5 модулей.
* data_frames.py
* individual_tasks.py
* tables.py
* graphics.py
* main_function.py

В каждом модуле есть набор функций

## data_frames.py
Данный модуль содержит:
*   ```
    create_data_frame(choiсe, folders)
        Функция считывает данные из директории 
        и на выбор (choiсe) создает датафреймы events (в которой находятся данные кальцевых активностей) 
        и датафрейм images (в которой находятся данные кальцевых событий),
        folders - путь до директории с данными, возвращаемое значение - data frame, в котором 
            столбец 1 (image_name) - имя изображения, 
            столбец 2 (time) - момент времени, в ходе которого было сделано изображение,
            столбец 3 (type) - папка, откуда было взято изображение,
            столбец 4 (file_path) - путь до изображения
    ```
*   ```
    sorted_df_type(df_main, type)
    Функция принимает на вход data frame, который будет сортировать и разбивать на новые data frames 
    (количество data frames зависит от количества папок (types)).
    В итоге можем получить исходя из нашей задачи 6 новых data frames, в которых
        столбец 1 (image_name) - имя изображения, 
        столбец 2 (time) - момент времени, в ходе которого было сделано изображение,
        столбец 3 (type) - папка, откуда было взято изображение,
        столбец 4 (file_path) - путь до изображения
    ```

## individual_tasks.py
*   ```
    find_contours(sort_df_type)
    Функция, которая находит контуры областей кальциевых активностей
    в отсортированном массиве, содержащем картинки из конктретной папки 
    (принимает на вход определенный отсортированный массив)
    ```
*   ```
    calculate_average_area(found_contours)
    Функция, которая принимает на вход найденные контуры областей кальциевых активностей 
    с картинок определенной папки. Рассчитывает (6.3) среднюю площадь области в зависимости от времени.
     ``` 
*   ```
    find_coordinates(found_contours)
    Функция, которая принимает на вход найденные контуры областей кальциевых активностей 
    с картинок определенной папки. Рассчитывает (6.10) координаты центра самой большой 
    области в зависимости от номера кадра.
     ``` 

## tables.py
*    ```
    create_dict(choiсe, df)
    Функция на выбор (choiсe) создает списки, 
    в которых буду хранится значения средней площади и координаты для каждой картинки во всех папках,
    на вход принимает 
    choiсe - выбор списка,
    df - дата фрейм, по которому будем считать значения
     ``` 
*    ```
    save_excel(df, name)
    Функция save_excel сохраняет data frame в Excel таблицу 
    параметр df - data frame,
    параметр name - имя файла
     ```

## graphics.py
*    ```
    find_dependence_square(type, df)
    Функция выводит график средней площади кальциевого события в зависимости от времени
    параметр df - data frame, из которого берут столбцы, которые буду использоваться 
    для построения графика, а именно 'time' и 'average_area',
    параметр type - название графика (график по конуертной папке),
    возвращаемое значение - фигура с графиком
     ```
*    ```
    find_dependence_coordinates(type, df)
    Функция выводит график найденных координат в зависимости от времени
    параметр df - data frame, из которого берут столбцы, которые буду использоваться 
    для построения графика, а именно 'time' и 'coordinates',
    параметр type - название графика (график по конуертной папке),
    возвращаемое значение - фигура с графиком
     ```
*    ```
    save_graphic(fig, observation)
    Функция save_fig сохраняет графики в форматах .png и .svg
    парметр fig - фигура с графиком
    параметр observation - название директории с данными.
     ```

## main_function.py
*    ```
    conclusion(dir)
    Функция, которая содержит в себе все необходимые функции,
    на вход принимает dir - название директории, в которой находятся папки с наблюдениями, 
    выводит графики всех папок и таблицу со значениями средних площадей областей 
    кальциевых активностей всех картинок,
    а также сохраняет графики в двух форматах (png и svg) 
    и таблицы со средними значениями площадей областей кальциевых активностей и 
    координатами центров самых больших областей в зависимости от номера кадра
     ```

# Запуск программы
Для запуска программы необходимо запустить файл `main.ipynb`, в котором импортируется package с названием `calcium_activity`, а затем вызывается функция `conclusion(dir)`, в которую передаётся параметр `folds`.

# Описание вывода программы
В результате исполнения программа отображает графики средней площадь области в зависимости от времени, графики координат центра самой большой области в зависимости от номера кадра, таблицу со средними значениями площадей областей кальциевых активностей, а также сохраняет графики в двух форматах (png и svg) и таблицы со средними значениями площадей областей кальциевых активностей и координатами центров самых больших областей в зависимости от номера кадра в формате xlsx. Также с помощью функции `help()` вызываются документации каждой из функций данной программы.  